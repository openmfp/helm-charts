suite: operator
templates:
  - deployment.yaml
  - service-account.yaml
  - cluster-role.yaml
  - cluster-rolebinding.yaml
values:
  - ../test-values.yaml
chart:
  version: 1.0.0
  appVersion: 1.0.0
release:
  name: extension-manager-operator
tests:
  - it: operator match the snapshot
    asserts:
      - matchSnapshot: {}
    set:
      istio:
        enabledOverride: true
      health:
        portOverride: 8081
        liveness:
          pathOverride: /readyz
      metrics:
        port: 8080
      deployment:
        resources:
          limits:
            cpuOverride: 260m
            memoryOverride: 512Mi
          requests:
            cpuOverride: 40m
            memoryOverride: 50Mi